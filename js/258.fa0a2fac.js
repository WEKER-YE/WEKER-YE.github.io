"use strict";(self["webpackChunkiu"]=self["webpackChunkiu"]||[]).push([[258],{5258:function(o,e,a){a.r(e),a.d(e,{default:function(){return m}});a(4114);var t=a(6768),i=a(5130),s="data:image/png;base64,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";const l={class:"login-container"},n={class:"form-group"},d={class:"form-group"},r={class:"register-container"};function c(o,e,a,c,p,h){const u=(0,t.g2)("Header"),g=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(u),(0,t.Lk)("div",l,[e[7]||(e[7]=(0,t.Lk)("h1",null,"會員登入頁面",-1)),(0,t.Lk)("div",n,[e[4]||(e[4]=(0,t.Lk)("label",{for:"email"},"會員帳號",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>p.email=o),placeholder:"請輸入會員帳號",class:"inputC"},null,512),[[i.Jo,p.email]])]),(0,t.Lk)("div",d,[e[5]||(e[5]=(0,t.Lk)("label",{for:"password"},"會員密碼",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>p.password=o),placeholder:"請輸入會員密碼",class:"inputC"},null,512),[[i.Jo,p.password]])]),(0,t.Lk)("button",{class:"login-btn",onClick:e[2]||(e[2]=(...o)=>h.login&&h.login(...o))},"登入"),(0,t.Lk)("div",r,[e[6]||(e[6]=(0,t.Lk)("p",null,"還沒有帳號？",-1)),(0,t.Lk)("button",{class:"register-btn",onClick:e[3]||(e[3]=e=>o.$router.push("/register"))}," 註冊新會員 ")]),e[8]||(e[8]=(0,t.Lk)("div",{class:"google-login"},[(0,t.Lk)("div",{id:"g_id_onload","data-client_id":"578077334950-nqpm6kasi4m7nc80apuua603erfi3c2o.apps.googleusercontent.com","data-callback":"handleCredentialResponse","data-auto_select":"false","data-itp_support":"true"},[(0,t.Lk)("button",null,[(0,t.Lk)("img",{src:s,alt:"gool",class:"gool"})])]),(0,t.Lk)("div",{class:"g_id_signin","data-type":"standard"})],-1))]),(0,t.bF)(g)])}var p=a(754),h=a(916),u={name:"Member",components:{Header:p.A,Footer:h.A},data(){return{email:"",password:""}},methods:{async login(){try{const o=await fetch("http://localhost:4000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(o.ok){const e=await o.json();localStorage.setItem("user",JSON.stringify(e)),"admin"===e.role?this.$router.push("/admin/products"):this.$router.push("/products")}else alert("登入失敗，請檢查帳號或密碼")}catch(o){console.error("登入錯誤：",o),alert("登入錯誤，請稍後重試")}},handleCredentialResponse(o){console.log("Google 登入成功，ID Token:",o.credential),fetch("http://localhost:4000/api/google-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o.credential})}).then((o=>o.json())).then((o=>{localStorage.setItem("user",JSON.stringify(o)),"admin"===o.role?this.$router.push("/admin/products"):this.$router.push("/products")})).catch((o=>{console.error("Google 登入錯誤：",o),alert("Google 登入錯誤，請稍後重試")}))}},mounted(){window.handleCredentialResponse=this.handleCredentialResponse}},g=a(1241);const k=(0,g.A)(u,[["render",c],["__scopeId","data-v-5cf1e9c2"]]);var m=k}}]);
//# sourceMappingURL=258.fa0a2fac.js.map
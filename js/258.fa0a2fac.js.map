{"version":3,"file":"js/258.fa0a2fac.js","mappings":"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","sources":["webpack://iu/./src/views/MemberloginView.vue","webpack://iu/./src/views/MemberloginView.vue?37ea"],"sourcesContent":["<template>\n  <div>\n    <Header />\n    <div class=\"login-container\">\n      <h1>會員登入頁面</h1>\n\n      <div class=\"form-group\">\n        <label for=\"email\">會員帳號</label>\n        <input\n          type=\"text\"\n          id=\"email\"\n          v-model=\"email\"\n          placeholder=\"請輸入會員帳號\"\n          class=\"inputC\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"password\">會員密碼</label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          v-model=\"password\"\n          placeholder=\"請輸入會員密碼\"\n          class=\"inputC\"\n        />\n      </div>\n\n      <button class=\"login-btn\" @click=\"login\">登入</button>\n\n\n      <!-- 註冊按鈕 -->\n      <div class=\"register-container\">\n        <p>還沒有帳號？</p>\n\n        <button class=\"register-btn\" @click=\"$router.push('/register')\">\n          註冊新會員\n        </button>\n      </div>\n\n      <!-- Google 登入按鈕 -->\n      <div class=\"google-login\">\n        <div\n          id=\"g_id_onload\"\n          data-client_id=\"578077334950-nqpm6kasi4m7nc80apuua603erfi3c2o.apps.googleusercontent.com\"\n          data-callback=\"handleCredentialResponse\"\n          data-auto_select=\"false\"\n          data-itp_support=\"true\"\n        > <button><img src=\"../assets/LOGOS/google.png\" alt=\"gool\" class=\"gool\"></button></div>\n        <div class=\"g_id_signin\" data-type=\"standard\"></div>\n      </div>\n    </div>\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/shar/Header.vue';\nimport Footer from '@/components/shar/Footer.vue';\n// import Footer from '../components/Footer.vue';\n\n\n\n\nexport default {\n  name: \"Member\",\n  components: {\n    Header,\n    Footer,\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const response = await fetch(\"http://localhost:4000/api/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            email: this.email,\n            password: this.password,\n          }),\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          localStorage.setItem(\"user\", JSON.stringify(data));\n          if (data.role === \"admin\") {\n            this.$router.push(\"/admin/products\");\n          } else {\n            this.$router.push(\"/products\");\n          }\n        } else {\n          alert(\"登入失敗，請檢查帳號或密碼\");\n        }\n      } catch (error) {\n        console.error(\"登入錯誤：\", error);\n        alert(\"登入錯誤，請稍後重試\");\n      }\n    },\n\n    // Google 身份驗證回應處理\n    handleCredentialResponse(response) {\n      console.log(\"Google 登入成功，ID Token:\", response.credential);\n\n      fetch(\"http://localhost:4000/api/google-login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ token: response.credential }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          localStorage.setItem(\"user\", JSON.stringify(data));\n          if (data.role === \"admin\") {\n            this.$router.push(\"/admin/products\");\n          } else {\n            this.$router.push(\"/products\");\n          }\n        })\n        .catch((error) => {\n          console.error(\"Google 登入錯誤：\", error);\n          alert(\"Google 登入錯誤，請稍後重試\");\n        });\n    },\n  },\n\n  mounted() {\n    window.handleCredentialResponse = this.handleCredentialResponse; // 設定全局回調函數\n  },\n};\n</script>\n\n<style scoped>\n/* 登入頁面樣式 */\ntemplate{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.login-container {\n  width: 30%;\n  padding: 2rem;\n  margin:2rem 35% 3rem 35%;\n  background-color: #f7f7f7;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  /* border: 1px solid; */\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n  /* border: 1px solid #000; */\n  \n}\n\n.form-group input {\n  width: 93%;\n  padding: 0.75rem;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n\n}\n.login-btn {\n  width: 100%;\n  padding: 0.75rem;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  /* border: 1px solid #000; */\n}\n\n.google-login {\n  margin-top: 1rem;\n  text-align: center;\n  /* border: 1px solid #000; */\n}\n\n.google-btn {\n  width: 100%;\n  padding: 0.75rem;\n  background-color: #4285f4;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* border: 1px solid #000; */\n}\n\n.google-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 0.5rem;\n  /* border: 1px solid #000; */\n}\n\n.register-container {\n  margin-top: 1rem;\n  text-align: center;\n  /* border: 1px solid #000; */\n}\n\n.register-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  width: 100%;\n  /* border: 1px solid #000; */\n}\n\n.register-btn:hover {\n  background-color: #0056b3;\n}\n\n.gool{\n  width: 36px;\n  height: 36px;\n}\n</style>\n","import { render } from \"./MemberloginView.vue?vue&type=template&id=5cf1e9c2&scoped=true\"\nimport script from \"./MemberloginView.vue?vue&type=script&lang=js\"\nexport * from \"./MemberloginView.vue?vue&type=script&lang=js\"\n\nimport \"./MemberloginView.vue?vue&type=style&index=0&id=5cf1e9c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cf1e9c2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_Header","_createElementVNode","_hoisted_1","_hoisted_2","for","type","id","_cache","$event","$data","email","placeholder","_hoisted_3","password","onClick","args","$options","login","_hoisted_4","_ctx","$router","push","src","_imports_0","alt","_component_Footer","name","components","Header","Footer","data","methods","response","fetch","method","headers","body","JSON","stringify","this","ok","json","localStorage","setItem","role","alert","error","console","handleCredentialResponse","log","credential","token","then","res","catch","mounted","window","__exports__","render"],"sourceRoot":""}